<!DOCTYPE html>
<html>
<head>
    <title>Hot Dog Detector</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            text-align: center;
        }
        h1 {
            color: #333;
        }
        input, button {
            margin: 10px;
            padding: 8px;
        }
        #result {
            text-align: left;
            margin-top: 20px;
        }
    </style>
    <script>
        function uploadFile() {
            const fileInput = document.getElementById('file1');
            if (!fileInput.files.length) {
                alert('Please select a file first');
                return;
            }
            
            const formData = new FormData();
            formData.append('file1', fileInput.files[0]);
            
            console.log('Uploading file...'); // Debug log
            
            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response:', data); // Debug log
                if (Array.isArray(data)) {
                    let best = data.reduce((a, b) => a.score > b.score ? a : b);
                    if (best.label.toLowerCase().includes("not hot dog")) {
                        alert("This is NOT a hot dog! ðŸŒ­âŒ");
                    } else {
                        alert("This IS a hot dog! ðŸŒ­âœ…");
                    }
                    document.getElementById('result').textContent = JSON.stringify(data, null, 2);
                } else {
                    alert("Error: " + (data.error || "Unknown error"));
                }
            })
            .catch(error => {
                console.error('Error:', error); // Debug log
                alert("Error uploading file: " + error);
            });
        }
    </script>
</head>
<body>
    <h1>Hot Dog Detector ðŸŒ­</h1>
    <input type="file" id="file1" accept="image/*">
    <button onclick="uploadFile()">Check if Hot Dog</button>
    <pre id="result"></pre>
</body>
</html>